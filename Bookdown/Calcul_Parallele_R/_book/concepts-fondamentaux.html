<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Concepts fondamentaux | Calcul_Parallele_R.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Concepts fondamentaux | Calcul_Parallele_R.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Concepts fondamentaux | Calcul_Parallele_R.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="présentation-du-calcul-parallele.html"/>
<link rel="next" href="packages-et-fonctions-de-base-du-calcul-parallele.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="section.html"><a href="section.html"><i class="fa fa-check"></i>.</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#contexte-et-motivations-ayant-donné-lieu-au-calcul-parallele"><i class="fa fa-check"></i>1- Contexte et motivations ayant donné lieu au calcul parallele</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#loi-de-moore-et-plafonnement-des-fréquences-cpu"><i class="fa fa-check"></i>2- Loi de Moore et plafonnement des fréquences CPU</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="présentation-du-calcul-parallele.html"><a href="présentation-du-calcul-parallele.html"><i class="fa fa-check"></i>Présentation du calcul parallele</a>
<ul>
<li class="chapter" data-level="" data-path="présentation-du-calcul-parallele.html"><a href="présentation-du-calcul-parallele.html#définition"><i class="fa fa-check"></i>Définition</a></li>
<li class="chapter" data-level="" data-path="présentation-du-calcul-parallele.html"><a href="présentation-du-calcul-parallele.html#comparaison-calcul-parallele-vs-calcul-sequentielle"><i class="fa fa-check"></i>Comparaison calcul parallele vs calcul sequentielle</a></li>
<li class="chapter" data-level="" data-path="présentation-du-calcul-parallele.html"><a href="présentation-du-calcul-parallele.html#types-de-parallélisme"><i class="fa fa-check"></i>Types de parallélisme</a>
<ul>
<li class="chapter" data-level="" data-path="présentation-du-calcul-parallele.html"><a href="présentation-du-calcul-parallele.html#parallélisme-des-données-vs-parallélisme-des-taches"><i class="fa fa-check"></i>Parallélisme des données vs parallélisme des taches</a>
<ul>
<li class="chapter" data-level="" data-path="présentation-du-calcul-parallele.html"><a href="présentation-du-calcul-parallele.html#parallélisme-de-données"><i class="fa fa-check"></i>Parallélisme de données</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="présentation-du-calcul-parallele.html"><a href="présentation-du-calcul-parallele.html#parallélisme-de-tâches"><i class="fa fa-check"></i>Parallélisme de tâches</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="présentation-du-calcul-parallele.html"><a href="présentation-du-calcul-parallele.html#parallélisme-distribué-et-parallélisme-partagé"><i class="fa fa-check"></i>Parallélisme distribué et parallélisme partagé</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="concepts-fondamentaux.html"><a href="concepts-fondamentaux.html"><i class="fa fa-check"></i>Concepts fondamentaux</a>
<ul>
<li class="chapter" data-level="" data-path="concepts-fondamentaux.html"><a href="concepts-fondamentaux.html#coeurs-du-processeur"><i class="fa fa-check"></i>Coeurs du Processeur</a></li>
<li class="chapter" data-level="" data-path="concepts-fondamentaux.html"><a href="concepts-fondamentaux.html#threads-ou-processeurs-logiques"><i class="fa fa-check"></i>Threads (ou Processeurs Logiques)</a></li>
<li class="chapter" data-level="" data-path="concepts-fondamentaux.html"><a href="concepts-fondamentaux.html#hyper-threading"><i class="fa fa-check"></i>Hyper-threading</a>
<ul>
<li class="chapter" data-level="" data-path="concepts-fondamentaux.html"><a href="concepts-fondamentaux.html#lien-entre-coeurs-threads-et-calcul-parallele"><i class="fa fa-check"></i>Lien entre Coeurs, Threads et calcul parallele</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="concepts-fondamentaux.html"><a href="concepts-fondamentaux.html#programme-maître-et-son-rôle-dans-le-calcul-parallèle"><i class="fa fa-check"></i>Programme Maître et son rôle dans le calcul parallèle</a>
<ul>
<li class="chapter" data-level="" data-path="concepts-fondamentaux.html"><a href="concepts-fondamentaux.html#cluster-et-worker"><i class="fa fa-check"></i>Cluster et worker</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="packages-et-fonctions-de-base-du-calcul-parallele.html"><a href="packages-et-fonctions-de-base-du-calcul-parallele.html"><i class="fa fa-check"></i>Packages et fonctions de base du calcul parallele</a>
<ul>
<li class="chapter" data-level="" data-path="packages-et-fonctions-de-base-du-calcul-parallele.html"><a href="packages-et-fonctions-de-base-du-calcul-parallele.html#package-parallel"><i class="fa fa-check"></i>1. Package <strong>parallel</strong></a></li>
<li class="chapter" data-level="" data-path="packages-et-fonctions-de-base-du-calcul-parallele.html"><a href="packages-et-fonctions-de-base-du-calcul-parallele.html#package-tictoc"><i class="fa fa-check"></i>2. Package <strong>tictoc</strong></a></li>
<li class="chapter" data-level="" data-path="packages-et-fonctions-de-base-du-calcul-parallele.html"><a href="packages-et-fonctions-de-base-du-calcul-parallele.html#package-foreach-doparallel"><i class="fa fa-check"></i>3. Package <strong>foreach + doParallel</strong></a></li>
<li class="chapter" data-level="" data-path="packages-et-fonctions-de-base-du-calcul-parallele.html"><a href="packages-et-fonctions-de-base-du-calcul-parallele.html#packages-future-et-future.apply"><i class="fa fa-check"></i>4. Packages <strong>future</strong> et <strong>future.apply</strong></a></li>
<li class="chapter" data-level="" data-path="packages-et-fonctions-de-base-du-calcul-parallele.html"><a href="packages-et-fonctions-de-base-du-calcul-parallele.html#package-snow-simple-network-of-workstations"><i class="fa fa-check"></i>5. Package <strong>snow</strong> (Simple Network of Workstations)</a></li>
<li class="chapter" data-level="" data-path="packages-et-fonctions-de-base-du-calcul-parallele.html"><a href="packages-et-fonctions-de-base-du-calcul-parallele.html#package-snowft"><i class="fa fa-check"></i>6. Package <strong>snowFT</strong></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="patterns-essentiels.html"><a href="patterns-essentiels.html"><i class="fa fa-check"></i>Patterns essentiels</a>
<ul>
<li class="chapter" data-level="" data-path="patterns-essentiels.html"><a href="patterns-essentiels.html#fork-join"><i class="fa fa-check"></i>Fork-join</a></li>
<li class="chapter" data-level="" data-path="patterns-essentiels.html"><a href="patterns-essentiels.html#map-reduce"><i class="fa fa-check"></i>Map Reduce</a></li>
<li class="chapter" data-level="" data-path="patterns-essentiels.html"><a href="patterns-essentiels.html#divide-conquer"><i class="fa fa-check"></i>Divide &amp; Conquer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html"><i class="fa fa-check"></i>PERFORMANCE ET ASPECTS PRATIQUES</a>
<ul>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#métriques-de-base"><i class="fa fa-check"></i>Métriques de base</a>
<ul>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#speedup"><i class="fa fa-check"></i>Speedup</a></li>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#efficacité"><i class="fa fa-check"></i>Efficacité</a></li>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#scalabilité"><i class="fa fa-check"></i>Scalabilité</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#défis-et-optimisation"><i class="fa fa-check"></i>Défis et optimisation</a>
<ul>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#overhead-surcharge"><i class="fa fa-check"></i>Overhead (surcharge)</a></li>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#synchronisation"><i class="fa fa-check"></i>2. Synchronisation</a></li>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#surcharge-mémoire"><i class="fa fa-check"></i>3. Surcharge mémoire</a></li>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#communication-interprocessus"><i class="fa fa-check"></i>4. Communication inter‑processus</a></li>
<li class="chapter" data-level="" data-path="performance-et-aspects-pratiques.html"><a href="performance-et-aspects-pratiques.html#sécurité-des-données-parallélisme-distribué"><i class="fa fa-check"></i>5. Sécurité des données (parallélisme distribué)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="bonnes-pratiques.html"><a href="bonnes-pratiques.html"><i class="fa fa-check"></i>Bonnes pratiques</a>
<ul>
<li class="chapter" data-level="" data-path="bonnes-pratiques.html"><a href="bonnes-pratiques.html#a-ne-pas-paralléliser-des-tâches-trop-légères"><i class="fa fa-check"></i>a) Ne pas paralléliser des tâches trop légères</a></li>
<li class="chapter" data-level="" data-path="bonnes-pratiques.html"><a href="bonnes-pratiques.html#b-trouver-le-bon-équilibre-entre-nombre-de-cœurs-et-taille-de-tâche"><i class="fa fa-check"></i>b) Trouver le bon équilibre entre nombre de cœurs et taille de tâche</a></li>
<li class="chapter" data-level="" data-path="bonnes-pratiques.html"><a href="bonnes-pratiques.html#c-optimisation-de-la-mémoire-et-du-cpu"><i class="fa fa-check"></i>c) Optimisation de la mémoire et du CPU</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
<li class="chapter" data-level="" data-path="références.html"><a href="références.html"><i class="fa fa-check"></i>Références</a>
<ul>
<li class="chapter" data-level="" data-path="références.html"><a href="références.html#documentation-officielle-et-tutoriels"><i class="fa fa-check"></i>Documentation officielle et tutoriels</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="concepts-fondamentaux" class="section level1 hasAnchor">
<h1>Concepts fondamentaux<a href="concepts-fondamentaux.html#concepts-fondamentaux" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Le processeur (ou CPU, pour Central Processing Unit) est la partie qui exécute les instructions des programmes et effectue les calculs nécessaires au bon fonctionnement de l’ordinateur. Il peut être vu comme “l’organe” qui contrôle l’exécution des tâches. Un processeur peut contenir un ou plusieurs cœurs (ou cores), chacun capable de traiter des instructions indépendamment.</p>
<div id="coeurs-du-processeur" class="section level2 hasAnchor">
<h2>Coeurs du Processeur<a href="concepts-fondamentaux.html#coeurs-du-processeur" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Définition :</strong><br />
Un <strong>cœur</strong> (ou core) est une unité de calcul indépendante au sein d’un même processeur. Chaque cœur dispose de son propre jeu de registres, d’une unité arithmétique/logique et d’un cache. Plus un processeur compte de cœurs, plus il peut traiter de tâches vraiment en parallèle.</p>
<ul>
<li><p><strong>Exemple :</strong><br />
Un processeur <em>quad-core</em> possède 4 coeurs physiques, chacun pouvant exécuter des instructions indépendamment des autres.</p></li>
<li><p>Par ailleurs, il ne faut pas se fier aux noms marketing: un Intel Core i5 n’a pas nécessairement 5 coeurs ! Par exemple, un i5-10400 possède 6 coeurs physiques. Les nombres dans les noms (i3, i5, i7) reflètent une gamme de performance, pas le nombre de coeurs.</p></li>
<li><p>Pour connaître le nombre de coeurs disponibles sur votre machine, vous pouvez utiliser la fonction <code>detectCores()</code> du package <strong>parallel</strong>, avec l’option FALSE sur logical.</p></li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="concepts-fondamentaux.html#cb19-1" tabindex="-1"></a><span class="co"># Ce package n&#39;a pas besoin d&#39;être téléchargé au préalable,</span></span>
<span id="cb19-2"><a href="concepts-fondamentaux.html#cb19-2" tabindex="-1"></a><span class="co"># il est directement disponible lorsque R est installé </span></span>
<span id="cb19-3"><a href="concepts-fondamentaux.html#cb19-3" tabindex="-1"></a><span class="fu">library</span>(parallel) </span>
<span id="cb19-4"><a href="concepts-fondamentaux.html#cb19-4" tabindex="-1"></a></span>
<span id="cb19-5"><a href="concepts-fondamentaux.html#cb19-5" tabindex="-1"></a><span class="co"># Nombre de coeurs physiques</span></span>
<span id="cb19-6"><a href="concepts-fondamentaux.html#cb19-6" tabindex="-1"></a>nb_coeurs_physiques <span class="ot">&lt;-</span> <span class="fu">detectCores</span>(<span class="at">logical =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-7"><a href="concepts-fondamentaux.html#cb19-7" tabindex="-1"></a><span class="fu">print</span>(nb_coeurs_physiques)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Dans mon cas par exemple, mon core i5 a 10 coeurs.</p>
</div>
<div id="threads-ou-processeurs-logiques" class="section level2 hasAnchor">
<h2>Threads (ou Processeurs Logiques)<a href="concepts-fondamentaux.html#threads-ou-processeurs-logiques" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><strong>Définition :</strong><br />
Un <strong>thread</strong> est la plus petite unité d’exécution gérée par le système d’exploitation, c’est une séquence d’instructions qu’un cœur peut traiter.</li>
</ul>
<p>Chaque thread possède son propre contexte (ensemble des informations que le CPU doit sauvegarder et restaurer pour reprendre l’exécution exactement là où il s’était arrêté), mais partage avec les autres threads du même cœur les ressources matérielles (unités arithmétiques, caches).</p>
<ul>
<li>Pour connaître le nombre de threads disponibles sur votre machine, vous pouvez utiliser la même fonction <code>detectCores()</code> du package <strong>parallel</strong>, avec l’option TRUE sur logical.</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="concepts-fondamentaux.html#cb21-1" tabindex="-1"></a><span class="co"># Nombre de threads (unités logiques)</span></span>
<span id="cb21-2"><a href="concepts-fondamentaux.html#cb21-2" tabindex="-1"></a>nb_threads <span class="ot">&lt;-</span> <span class="fu">detectCores</span>(<span class="at">logical =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-3"><a href="concepts-fondamentaux.html#cb21-3" tabindex="-1"></a><span class="fu">print</span>(nb_threads)</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>Ces deux informations peuvent aussi etre visualisées au niveau du gestionnaire de tâches, sous l’onglet performance.</p>
<p>`<img src="Donnees/Images_RMD/Coeurs_Threads.png" alt="Texte alternatif" /></p>
</div>
<div id="hyper-threading" class="section level2 hasAnchor">
<h2>Hyper-threading<a href="concepts-fondamentaux.html#hyper-threading" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>C’est une technologie qui permet à un seul cœur physique de se présenter au système d’exploitation comme deux (et quelque fois plus de 2) cœurs logiques (threads) simultanés.</p>
<ul>
<li><strong>Exemple :</strong><br />
Un processeur quad-core sans hyper-threading gère 4 threads mais lorsqu’il est doté d’hyper-threading, il peut gérer 8 threads. De manière generale le système d’exploitation considere donc que l’ordinateur a 8 coeurs puisqu’il peut théoriquement exécuter 8 tâches en même temps, mais en réalité, c’est rien que 4 coeurs physiques qui existent réellement.</li>
</ul>
<div id="lien-entre-coeurs-threads-et-calcul-parallele" class="section level3 hasAnchor">
<h3>Lien entre Coeurs, Threads et calcul parallele<a href="concepts-fondamentaux.html#lien-entre-coeurs-threads-et-calcul-parallele" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Physiquement :</strong><br />
Vous disposez d’un nombre fixe de coeurs physiques (par exemple, 4 coeurs sur un processeur quad-core).</p></li>
<li><p><strong>Logiquement :</strong><br />
Chaque coeur peut être “dédoublé” en plusieurs threads grâce à l’hyper-threading. Ainsi, même avec 4 coeurs, vous pouvez avoir plus d’unités d’exécution simultanée (par exemple, 8 threads).</p></li>
<li><p><strong>En pratique pour le calcul parallèle :</strong><br />
On parle souvent de “coeurs” pour simplifier, mais ce sont en réalité les <strong>threads</strong> (unités logiques) qui exécutent les tâches. Le nombre de threads disponibles détermine combien de tâches peuvent être réellement exécutées en parallèle.</p></li>
</ul>
<p>Par exemple, dans mon cas, mon ordinateur a 10 coeurs et 12 threads et donc il y a 2 coeurs qui grace au hyper-threading gerent 2 threads chacun et les 8 autres coeurs gerent 1 thread chacun. Donc pour le calcul parallele, 12 threads sont disponibles pour optimiser cette méthode.</p>
</div>
</div>
<div id="programme-maître-et-son-rôle-dans-le-calcul-parallèle" class="section level2 hasAnchor">
<h2>Programme Maître et son rôle dans le calcul parallèle<a href="concepts-fondamentaux.html#programme-maître-et-son-rôle-dans-le-calcul-parallèle" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Le programme maître est essentiel pour coordonner le calcul parallèle en distribuant les tâches et en recueillant les résultats. Il est chargé de trois responsabilités principales :</p>
<ol style="list-style-type: decimal">
<li><p><strong>Initialisation des workers</strong></p>
<ul>
<li><p>Création des workers et chargement des packages nécessaires.</p></li>
<li><p><strong>Coût d’initialisation</strong> : cette étape peut prendre plusieurs secondes, car chaque worker doit démarrer et recevoir les outils nécessaires.</p></li>
<li><p><strong>Amortissement de l’overhead</strong> : pour que le parallélisme soit rentable, chaque worker doit avoir <strong>suffisamment de travail</strong> pour compenser ce temps de démarrage, dans le cas contraire, le calcul séquentiel peut etre preferable.</p></li>
<li><p><em>Exemple</em>: Si le démarrage d’un worker prend 100 ms et que sa tâche dure 10 ms, le coût d’overhead est prohibitif.
( L’<strong>overhead</strong> ou <strong>surcharge</strong> regroupe toutes les opérations <strong>hors calcul</strong> qui consomment du temps:</p></li>
</ul></li>
</ol>
<ul>
<li>Création et destruction des workers<br />
</li>
<li>Exportation des données et des fonctions<br />
</li>
<li>Chargement des packages<br />
</li>
<li>Communication entre le maître et les workers<br />
Ces coûts doivent être <strong>compensés</strong> par la durée des calculs parallèles pour que l’approche soit bénéfique.)</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><strong>Répartition des tâches:</strong></li>
</ol>
<p>Le programme maître divise une tâche globale en plusieurs sous-tâches qui peuvent être exécutées simultanément par différents threads ou cœurs de processeur. L’objectif est de distribuer la charge de travail pour maximiser l’efficacité de l’exécution parallèle.
Ainsi, chaque thread travaille sur une portion de la tâche, ce qui accélère l’exécution du programme.</p>
<ol start="3" style="list-style-type: decimal">
<li><strong>Lancement en parallèle:</strong></li>
</ol>
<p>Une fois que les sous-tâches sont réparties, le programme maître envoie chaque sous-tâche aux threads disponibles pour exécution simultanée. Ces threads peuvent être répartis sur les différents cœurs de processeur ou machines.</p>
<ul>
<li><strong>Collecte et agrégation des résultats:</strong><br />
Après que chaque thread a terminé sa partie du travail, le programme maître récupère les résultats produits.</li>
</ul>
<p>D’autres part, nous distinguons les sous-programmes (ou workers).</p>
<div id="cluster-et-worker" class="section level3 hasAnchor">
<h3>Cluster et worker<a href="concepts-fondamentaux.html#cluster-et-worker" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Un <strong>cluster</strong> est l’ensemble des processus R (ou threads) que l’on lance pour exécuter un calcul en parallèle.<br />
- On crée un cluster avec <code>makeCluster(n)</code>, où <code>n</code> est le nombre de workers souhaités.<br />
- Le cluster sert à <strong>répartir</strong> le travail sur plusieurs unités de calcul (cœurs ou machines).</p>
<p>Un <strong>worker</strong> est un <strong>processus individuel</strong> du cluster :<br />
- Il reçoit <strong>une sous‑tâche</strong> du programme maître.<br />
- Il exécute la fonction assignée sur son lot de données.
- Il renvoie son résultat au programme maître pour agrégation.</p>
<p>D’autre part, on distingue le <strong>cluster</strong> est un ensemble de processus R (ou de threads) lancés pour exécuter des tâches en parallèle.<br />
- Chaque processus du cluster est appelé un <strong>worker</strong>.<br />
- Le cluster permet de répartir le travail sur plusieurs unités de calcul (cœurs ou machines).</p>
<p><strong>Remarque</strong><br />
- On peut créer plus de workers que de threads logiques.
- Dans ce cas, les workers excédentaires restent en <strong>attente</strong> jusqu’à ce qu’un thread se libère.<br />
- Il faut veiller à ce que chaque worker ait <strong>suffisamment</strong> de travail pour amortir le coût de démarrage du cluster.</p>
<p>– Mise en oeuvre avec R (structure globale)</p>
<p>Les fonctions proviennent du package parallele aussi.</p>
<p>Etape 1: on initialise un cluster, c’est-à-dire un groupe de workers, en précisant combien on en veut (par exemple, dans notre cas, on definit autant que le nombre de threads disponibles: <strong>cl &lt;- makeCluster(nb_threads)</strong>).</p>
<p>Etape 2: Puis la fonction parLapply() permet de distribuer les sous-tâches à chaque worker. On lui donne une liste tâches et une fonction f à appliquer à chaque élément. (<strong>résultats &lt;- parLapply(cl, tâches, f)</strong>).</p>
<p>Etape 3: Arrêt du cluster (libération des ressources): Une fois toutes les tâches terminées, on arrête proprement les workers.Cela libère la mémoire et évite de laisser des processus inutilisés tourner en arrière-plan. On fait de ce fait: <strong>stopCluster</strong>.</p>
<p>Etape 4: Chaque worker renvoie un résultat (souvent un tableau ou un vecteur).On utilise une fonction pour assembler tous les résultats obtenus en un seul tableau cohérent, ligne par ligne.</p>

</div>
</div>
</div>
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Footer</title>
</head>
<body>

  <div class="book-footer">
    © Exposé sur le calcul parallèle sur R | Réalisé dans le cadre du cours de Projet statistique avec R
  </div>

</body>
</html>
            </section>

          </div>
        </div>
      </div>
<a href="présentation-du-calcul-parallele.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="packages-et-fonctions-de-base-du-calcul-parallele.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
